extends layout

block extrahead
  script(src="javascripts/shifts.js" type="text/javascript")

block content
  .modal.fade#contact_detail(tabindex="-1" aria-hidden="true" )
    .modal-dialog.modal-lg
      .modal-content(style="margin:10")
        .modal-header
          h5.modal-title Add or modify contact
          button.btn-close(type="button" data-bs-dismiss='modal' aria-label='Close')
        .modal-body.row
          table
            tbody
              tr
                th.py-3 First name
                td
                  input#first_name(type="text" size="24" name="first_name")
              tr
                th.py-3 Last name
                td
                  input#last_name(type="text" size="24" name="last_name")
              tr
                th.py-3 SMS
                td
                  input#sms(type='text' size="20" name="sms")
              tr
                th.py-3 Email
                td
                  input#email(type='email' size="48" name='email')
              tr
                th.py-3 Expert?
                td
                  input#expert(type="checkbox" name="expert")
        .modal-footer
          button.btn.btn-info(onclick="SubmitContact()") Submit

  .modal.fade#delete_contact(tabindex="-1")
    .modal-dialog.modal-m
      .modal-content
        .modal-header
          h5.modal-title Delete a shifter
          button.btn-close(type="button" data-bs-dismiss='modal' aria-label='Close')
        .modal-body
          label(for="delete_name") Name:&nbsp;
          input#delete_name(type='text' name='delete_name' size='24')
        .modal-footer
          button.btn.btn-danger(onclick='DeleteShifter()') Submit

  div.main-container(style="width:100%")
    h3 Shifts and contact management

    table.table.table-hover.table-striped(style="width:50%")
      thead
        tr
          th Name
          th On shift?
      tbody#shift_table

    button.btn.btn-warning(onclick="SubmitShifts()") Set shifters
    span &nbsp;
    button.btn.btn-info(onclick="ShowDetail(null)") New contact
    span &nbsp;
    button.btn.btn-danger(onclick='$("#delete_contact").modal("show")') Delete shifter


  script.
    $(document).ready(function() {
      PopulateTable();
    });
    window.onclick = function(event) {
      var elems = document.getElementsByClassName("modal");
      for (var i = 0; i < elems.length; i++)
        if (event.target == elems[i]) elems[i].style.display = 'none';
    }
