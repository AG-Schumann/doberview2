extends layout

block extrahead
  script(src="javascripts/full_system.js", type="text/javascript")

block content
  div.main-container.main-container-nav
    #navbar.navbar.fixed-top.navbar-light.bg-light
      .container-fluid
        .d-flex
          button.btn.btn-primary(onclick="PopulateNewSensor()")
            span
              | Add sensor &nbsp
              i.fas.fa-solid.fa-plus
              i.fas.fa-solid.fa-thermometer
        .d-flex
          .navbar-text &nbsp; Group by: &nbsp;
          #sensor_grouping.btn-group(role='group')
            input#groupSubsystem.btn-check(type="radio" name="btnradio" value="subsystem" autocomplete="off" onclick="GetGroupedSensors()" checked="")
            label.btn.btn-outline-primary(for="groupSubsystem") Subsystem
            input#groupSensor.btn-check(type="radio" name="btnradio" value="device" autocomplete="off" onclick="GetGroupedSensors()")
            label.btn.btn-outline-primary(for="groupSensor") Device
            input#groupTopic.btn-check(type="radio" name="btnradio" value="topic" autocomplete="off" onclick="GetGroupedSensors()")
            label.btn.btn-outline-primary(for="groupTopic") Topic
        .d-flex
          .nav-item.dropdown
            a.nav-link.dropdown-toggle(data-bs-toggle='dropdown' href='#' role='button' aria-expanded='false') Jump to
            ul.dropdown-menu#jump_to_list
          .input-group.pe-3
            span.input-group-text
              i.fas.fa-solid.fa-magnifying-glass
            input.form-control#searchSensorInput(type="text" onkeyup="FilterSensors()" placeholder="Search sensor")
            button.btn.bg-transparent(type='button' style='margin-left: -40px; z-index: 100;' onclick='$("#searchSensorInput").val(""); FilterSensors();')
              i.fa.fa-times
    table.table.table-hover.table-striped(data-bs-spy="scroll" data-bs-target="#navbar" data-bs-offset="0")#sensor_table

  script.
    $(document).ready(function () {
      GetGroupedSensors();
      PopulateSensors();
      setInterval(UpdateOnce, 5000);
    });
